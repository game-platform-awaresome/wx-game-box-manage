webpackJsonp([1],{BO1k:function(t,e,r){t.exports={default:r("fxRn"),__esModule:!0}},"EX+S":function(t,e,r){"use strict";e.a=function(t){return Object(n.a)({url:"/api/qiniu/simpleUploadToken",method:"get",params:t})};var n=r("vLgD")},cAgV:function(t,e,r){"use strict";var n=r("woOf"),i=r.n(n),o=(r("ctMr"),{bind:function(t,e){t.addEventListener("click",function(r){var n=i()({},e.value),o=i()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),a=o.ele;if(a){a.style.position="relative",a.style.overflow="hidden";var s=a.getBoundingClientRect(),u=a.querySelector(".waves-ripple");switch(u?u.className="waves-ripple":((u=document.createElement("span")).className="waves-ripple",u.style.height=u.style.width=Math.max(s.width,s.height)+"px",a.appendChild(u)),o.type){case"center":u.style.top=s.height/2-u.offsetHeight/2+"px",u.style.left=s.width/2-u.offsetWidth/2+"px";break;default:u.style.top=r.pageY-s.top-u.offsetHeight/2-document.body.scrollTop+"px",u.style.left=r.pageX-s.left-u.offsetWidth/2-document.body.scrollLeft+"px"}return u.style.backgroundColor=o.color,u.className="waves-ripple z-active",!1}},!1)}}),a=function(t){t.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(a)),o.install=a;e.a=o},cpGA:function(t,e,r){var i;"undefined"!=typeof self&&self,i=function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=58)}([function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(30)("wks"),i=r(22),o=r(0).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=n},function(t,e,r){var n=r(7);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){var n=r(0),i=r(1),o=r(19),a=r(5),s=r(9),u=function(t,e,r){var c,l,f,p=t&u.F,h=t&u.G,d=t&u.S,m=t&u.P,g=t&u.B,v=t&u.W,y=h?i:i[e]||(i[e]={}),b=y.prototype,x=h?n:d?n[e]:(n[e]||{}).prototype;for(c in h&&(r=e),r)(l=!p&&x&&void 0!==x[c])&&s(y,c)||(f=l?x[c]:r[c],y[c]=h&&"function"!=typeof x[c]?r[c]:g&&l?o(f,n):v&&x[c]==f?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,r){var n=r(6),i=r(21);t.exports=r(8)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(3),i=r(43),o=r(28),a=Object.defineProperty;e.f=r(8)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(47),i=r(26);t.exports=function(t){return n(i(t))}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return(0,d.default)(t).filter(function(t){return t.startsWith("x:")}).map(function(e){return[e,t[e].toString()]})}function o(t){return"qiniu_js_sdk_upload_file_"+t.name+"_size_"+t.size}function a(t){return{Authorization:"UpToken "+t}}function s(){return window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}function u(t){return new f.default(function(e,r){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){var r=t.target.result;e(r)},n.onerror=function(){r(new Error("fileReader 读取错误"))}})}function c(t,e){return new f.default(function(r,n){var i=s();i.open(e.method,t),e.onCreate&&e.onCreate(i),e.headers&&(0,d.default)(e.headers).forEach(function(t){return i.setRequestHeader(t,e.headers[t])}),i.upload.addEventListener("progress",function(t){t.lengthComputable&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),i.onreadystatechange=function(){var t=i.responseText;if(4===i.readyState){var e=i.getResponseHeader("x-reqId")||"";if(200!==i.status){var o="xhr request failed, code: "+i.status+";";return t&&(o=o+" response: "+t),void n({code:i.status,message:o,reqId:e,isRequestError:!0})}try{r({data:JSON.parse(t),reqId:e})}catch(t){n(t)}}},i.send(e.body)})}function l(){return"http:"===window.location.protocol?"http:":"https:"}e.__esModule=!0;var f=n(r(18)),p=n(r(34)),h=n(r(86)),d=n(r(36));e.isChunkExpired=function(t){var e=t+864e5;return(new Date).getTime()>e},e.getChunks=function(t,e){for(var r=[],n=Math.ceil(t.size/e),i=0;i<n;i++){var o=t.slice(e*i,i===n-1?t.size:e*(i+1));r.push(o)}return r},e.filterParams=i,e.sum=function(t){return t.reduce(function(t,e){return t+e},0)},e.setLocalFileInfo=function(t,e){try{localStorage.setItem(o(t),(0,h.default)(e))}catch(t){window.console&&window.console.warn&&console.warn("setLocalFileInfo failed")}},e.removeLocalFileInfo=function(t){try{localStorage.removeItem(o(t))}catch(t){window.console&&window.console.warn&&console.warn("removeLocalFileInfo failed")}},e.getLocalFileInfo=function(t){try{return JSON.parse(localStorage.getItem(o(t)))||[]}catch(t){return window.console&&window.console.warn&&console.warn("getLocalFileInfo failed"),[]}},e.createMkFileUrl=function(t,e,r,n){var o=t+"/mkfile/"+e;null!=r&&(o+="/key/"+(0,m.urlSafeBase64Encode)(r)),n.mimeType&&(o+="/mimeType/"+(0,m.urlSafeBase64Encode)(n.mimeType));var a=n.fname;return a&&(o+="/fname/"+(0,m.urlSafeBase64Encode)(a)),n.params&&i(n.params).forEach(function(t){return o+="/"+encodeURIComponent(t[0])+"/"+(0,m.urlSafeBase64Encode)(t[1])}),o},e.getHeadersForChunkUpload=function(t){var e=a(t);return(0,p.default)({"content-type":"application/octet-stream"},e)},e.getHeadersForMkFile=function(t){var e=a(t);return(0,p.default)({"content-type":"text/plain"},e)},e.createXHR=s,e.computeMd5=function(t){return u(t).then(function(t){var e=new v.default.ArrayBuffer;return e.append(t),e.end()})},e.readAsArrayBuffer=u,e.request=c,e.getPortFromUrl=function(t){if(t&&t.match){var e=t.match(/(^https?)/);if(!e)return"";var r=e[1];return(e=t.match(/^https?:\/\/([^:^\/]*):(\d*)/))?e[2]:"http"===r?"80":"443"}return""},e.getDomainFromUrl=function(t){if(t&&t.match){var e=t.match(/^https?:\/\/([^:^\/]*)/);return e?e[1]:""}return""},e.getUploadUrl=function(t,e){var r=l();if(null!=t.uphost)return f.default.resolve(r+"//"+t.uphost);if(null!=t.region){var n=g.regionUphostMap[t.region],i=t.useCdnDomain?n.cdnUphost:n.srcUphost;return f.default.resolve(r+"//"+i)}return function(t){try{var e=function(t){var e=t.split(":"),r=e[0],n=JSON.parse((0,m.urlSafeBase64Decode)(e[2]));return n.ak=r,n.bucket=n.scope.split(":")[0],n}(t);return c(l()+"//api.qiniu.com/v2/query?ak="+e.ak+"&bucket="+e.bucket,{method:"GET"})}catch(t){return f.default.reject(t)}}(e).then(function(t){var e=t.data.up.acc.main;return r+"//"+e[0]})},e.isContainFileMimeType=function(t,e){return e.indexOf(t)>-1},e.createObjectURL=function(t){return(window.URL||window.webkitURL||window.mozURL).createObjectURL(t)},e.getTransform=function(t,e){var r=t.width,n=t.height;switch(e){case 1:return{width:r,height:n,matrix:[1,0,0,1,0,0]};case 2:return{width:r,height:n,matrix:[-1,0,0,1,r,0]};case 3:return{width:r,height:n,matrix:[-1,0,0,-1,r,n]};case 4:return{width:r,height:n,matrix:[1,0,0,-1,0,n]};case 5:return{width:n,height:r,matrix:[0,1,1,0,0,0]};case 6:return{width:n,height:r,matrix:[0,1,-1,0,n,0]};case 7:return{width:n,height:r,matrix:[0,-1,-1,0,n,r]};case 8:return{width:n,height:r,matrix:[0,-1,1,0,0,r]}}};var m=r(56),g=r(39),v=n(r(91))},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,r){var n=r(46),i=r(31);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){t.exports={default:r(59),__esModule:!0}},function(t,e,r){var n=r(20);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){var n=r(6).f,i=r(9),o=r(2)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){var n=r(7),i=r(0).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){var n=r(7);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(30)("keys"),i=r(22);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(1),i=r(0),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(13)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){var n=r(26);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";var n=r(20);t.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}(t)}},function(t,e,r){t.exports={default:r(83),__esModule:!0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){t.exports={default:r(88),__esModule:!0}},function(t,e,r){e.f=r(2)},function(t,e,r){var n=r(0),i=r(1),o=r(13),a=r(37),s=r(6).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,r){"use strict";e.__esModule=!0,e.regionUphostMap={z0:{srcUphost:"up.qiniup.com",cdnUphost:"upload.qiniup.com"},z1:{srcUphost:"up-z1.qiniup.com",cdnUphost:"upload-z1.qiniup.com"},z2:{srcUphost:"up-z2.qiniup.com",cdnUphost:"upload-z2.qiniup.com"},na0:{srcUphost:"up-na0.qiniup.com",cdnUphost:"upload-na0.qiniup.com"},as0:{srcUphost:"up-as0.qiniup.com",cdnUphost:"upload-as0.qiniup.com"}},e.region={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0"}},function(t,e){},function(t,e,r){"use strict";var n=r(60)(!0);r(42)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){"use strict";var n=r(13),i=r(4),o=r(44),a=r(5),s=r(14),u=r(61),c=r(23),l=r(65),f=r(2)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,r,d,m,g,v){u(r,e,d);var y,b,x,w=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=e+" Iterator",_="values"==m,A=!1,C=t.prototype,U=C[f]||C["@@iterator"]||m&&C[m],k=U||w(m),P=m?_?w("entries"):k:void 0,I="Array"==e&&C.entries||U;if(I&&(x=l(I.call(new t)))!==Object.prototype&&x.next&&(c(x,S,!0),n||"function"==typeof x[f]||a(x,f,h)),_&&U&&"values"!==U.name&&(A=!0,k=function(){return U.call(this)}),n&&!v||!p&&!A&&C[f]||a(C,f,k),s[e]=k,s[S]=h,m)if(y={values:_?k:w("values"),keys:g?k:w("keys"),entries:P},v)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(p||A),e,y);return y}},function(t,e,r){t.exports=!r(8)&&!r(10)(function(){return 7!=Object.defineProperty(r(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){t.exports=r(5)},function(t,e,r){var n=r(3),i=r(62),o=r(31),a=r(29)("IE_PROTO"),s=function(){},u=function(){var t,e=r(27)("iframe"),n=o.length;for(e.style.display="none",r(49).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[a]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(9),i=r(11),o=r(63)(!1),a=r(29)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),u=0,c=[];for(r in s)r!=a&&n(s,r)&&c.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(c,r)||c.push(r));return c}},function(t,e,r){var n=r(16);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(25),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(0).document;t.exports=n&&n.documentElement},function(t,e,r){r(66);for(var n=r(0),i=r(5),o=r(14),a=r(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=n[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e,r){var n=r(16),i=r(2)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,r){var n=r(3),i=r(20),o=r(2)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||void 0==(r=n(a)[o])?e:i(r)}},function(t,e,r){var n,i,o,a=r(19),s=r(75),u=r(49),c=r(27),l=r(0),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};p&&h||(p=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},h=function(t){delete v[t]},"process"==r(16)(f)?n=function(t){f.nextTick(a(y,t,1))}:m&&m.now?n=function(t){m.now(a(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(3),i=r(7),o=r(33);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";e.__esModule=!0,e.urlSafeBase64Encode=function(t){return(t=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=0,u=0,c="",l=[];if(!t)return t;t=function(t){if(null===t||void 0===t)return"";var e,r=t+"",n="",i=void 0,o=void 0;i=o=0,e=r.length;for(var a=0;a<e;a++){var s=r.charCodeAt(a),u=null;if(s<128)o++;else if(s>127&&s<2048)u=String.fromCharCode(s>>6|192,63&s|128);else if(63488&s^!0)u=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(64512&s^!0)throw new RangeError("Unmatched trail surrogate at "+a);var c=r.charCodeAt(++a);if(64512&c^!0)throw new RangeError("Unmatched lead surrogate at "+(a-1));s=((1023&s)<<10)+(1023&c)+65536,u=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==u&&(o>i&&(n+=r.slice(i,o)),n+=u,i=o=a+1)}return o>i&&(n+=r.slice(i,e)),n}(t+"");do{r=(a=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=a>>12&63,i=a>>6&63,o=63&a,l[u++]=e.charAt(r)+e.charAt(n)+e.charAt(i)+e.charAt(o)}while(s<t.length);switch(c=l.join(""),t.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(t)).replace(/\//g,"_").replace(/\+/g,"-")},e.urlSafeBase64Decode=function(t){return function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=0,c=0,l=[];if(!t)return t;t+="";do{r=(s=e.indexOf(t.charAt(u++))<<18|e.indexOf(t.charAt(u++))<<12|(o=e.indexOf(t.charAt(u++)))<<6|(a=e.indexOf(t.charAt(u++))))>>16&255,n=s>>8&255,i=255&s,l[c++]=64===o?String.fromCharCode(r):64===a?String.fromCharCode(r,n):String.fromCharCode(r,n,i)}while(u<t.length);return l.join("")}(t=t.replace(/_/g,"/").replace(/-/g,"+"))}},function(t,e,r){var n=r(46),i=r(31).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){"use strict";e.__esModule=!0,e.pipeline=e.compressImage=e.exif=e.imageInfo=e.watermark=e.imageMogr2=e.getUploadUrl=e.filterParams=e.getHeadersForMkFile=e.getHeadersForChunkUpload=e.createMkFileUrl=e.region=e.upload=void 0;var n,i=r(39),o=r(12),a=r(92),s=r(94),u=r(95),c=r(109),l=(n=r(110))&&n.__esModule?n:{default:n},f=new c.StatisticsLogger;e.upload=function(t,e,r,n,i){var o={file:t,key:e,token:r,putExtra:n,config:i};return new u.Observable(function(t){var e=new a.UploadManager(o,{onData:function(e){return t.next(e)},onError:function(e){return t.error(e)},onComplete:function(e){return t.complete(e)}},f);return e.putFile(),e.stop.bind(e)})},e.region=i.region,e.createMkFileUrl=o.createMkFileUrl,e.getHeadersForChunkUpload=o.getHeadersForChunkUpload,e.getHeadersForMkFile=o.getHeadersForMkFile,e.filterParams=o.filterParams,e.getUploadUrl=o.getUploadUrl,e.imageMogr2=s.imageMogr2,e.watermark=s.watermark,e.imageInfo=s.imageInfo,e.exif=s.exif,e.compressImage=l.default,e.pipeline=s.pipeline},function(t,e,r){r(40),r(41),r(50),r(69),r(81),r(82),t.exports=r(1).Promise},function(t,e,r){var n=r(25),i=r(26);t.exports=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,r){"use strict";var n=r(45),i=r(21),o=r(23),a={};r(5)(a,r(2)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(6),i=r(3),o=r(15);t.exports=r(8)?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=a.length,u=0;s>u;)n.f(t,r=a[u++],e[r]);return t}},function(t,e,r){var n=r(11),i=r(48),o=r(64);t.exports=function(t){return function(e,r,a){var s,u=n(e),c=i(u.length),l=o(a,c);if(t&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}}},function(t,e,r){var n=r(25),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(9),i=r(32),o=r(29)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){"use strict";var n=r(67),i=r(68),o=r(14),a=r(11);t.exports=r(42)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){"use strict";var n,i,o,a,s=r(13),u=r(0),c=r(19),l=r(51),f=r(4),p=r(7),h=r(20),d=r(70),m=r(71),g=r(52),v=r(53).set,y=r(76)(),b=r(33),x=r(54),w=r(77),S=r(55),_=u.TypeError,A=u.process,C=A&&A.versions,U=C&&C.v8||"",k=u.Promise,P="process"==l(A),I=function(){},F=i=b.f,T=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[r(2)("species")]=function(t){t(I,I)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==U.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var r=t._c;y(function(){for(var n=t._v,i=1==t._s,o=0;r.length>o;)!function(e){var r,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&L(t),t._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),a=!0)),r===e.promise?c(_("Promise-chain cycle")):(o=D(r))?o.call(r,u,c):u(r)):c(n)}catch(t){l&&!a&&l.exit(),c(t)}}(r[o++]);t._c=[],t._n=!1,e&&!t._h&&E(t)})}},E=function(t){v.call(u,function(){var e,r,n,i=t._v,o=M(t);if(o&&(e=x(function(){P?A.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=P||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(u,function(){var e;P?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},j=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(e=D(t))?y(function(){var n={_w:r,_d:!1};try{e.call(t,c(j,n,1),c(R,n,1))}catch(t){R.call(n,t)}}):(r._v=t,r._s=1,O(r,!1))}catch(t){R.call({_w:r,_d:!1},t)}}};T||(k=function(t){d(this,k,"Promise","_h"),h(t),n.call(this);try{t(c(j,this,1),c(R,this,1))}catch(t){R.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(78)(k.prototype,{then:function(t,e){var r=F(g(this,k));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=P?A.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=c(j,t,1),this.reject=c(R,t,1)},b.f=F=function(t){return t===k||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!T,{Promise:k}),r(23)(k,"Promise"),r(79)("Promise"),a=r(1).Promise,f(f.S+f.F*!T,"Promise",{reject:function(t){var e=F(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!T),"Promise",{resolve:function(t){return S(s&&this===a?k:this,t)}}),f(f.S+f.F*!(T&&r(80)(function(t){k.all(t).catch(I)})),"Promise",{all:function(t){var e=this,r=F(e),n=r.resolve,i=r.reject,o=x(function(){var r=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;r.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,r[s]=t,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=F(e),n=r.reject,i=x(function(){m(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(19),i=r(72),o=r(73),a=r(3),s=r(48),u=r(74),c={},l={};(e=t.exports=function(t,e,r,f,p){var h,d,m,g,v=p?function(){return t}:u(t),y=n(r,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>b;b++)if((g=e?y(a(d=t[b])[0],d[1]):y(t[b]))===c||g===l)return g}else for(m=v.call(t);!(d=m.next()).done;)if((g=i(m,y,d.value,e))===c||g===l)return g}).BREAK=c,e.RETURN=l},function(t,e,r){var n=r(3);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(14),i=r(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){var n=r(51),i=r(2)("iterator"),o=r(14);t.exports=r(1).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(0),i=r(53).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(16)(a);t.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=a.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){i.call(n,c)};else{var f=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),r=function(){p.data=f=!f}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){var n=r(0).navigator;t.exports=n&&n.userAgent||""},function(t,e,r){var n=r(5);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(6),a=r(8),s=r(2)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(2)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},t(o)}catch(t){}return r}},function(t,e,r){"use strict";var n=r(4),i=r(1),o=r(0),a=r(52),s=r(55);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then(function(){return r})}:t,r?function(r){return s(e,t()).then(function(){throw r})}:t)}})},function(t,e,r){"use strict";var n=r(4),i=r(33),o=r(54);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){r(84),t.exports=r(1).Object.assign},function(t,e,r){var n=r(4);n(n.S+n.F,"Object",{assign:r(85)})},function(t,e,r){"use strict";var n=r(15),i=r(35),o=r(24),a=r(32),s=r(47),u=Object.assign;t.exports=!u||r(10)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var p,h=s(arguments[c++]),d=l?n(h).concat(l(h)):n(h),m=d.length,g=0;m>g;)f.call(h,p=d[g++])&&(r[p]=h[p]);return r}:u},function(t,e,r){t.exports={default:r(87),__esModule:!0}},function(t,e,r){var n=r(1),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,r){r(89),t.exports=r(1).Object.keys},function(t,e,r){var n=r(32),i=r(15);r(90)("keys",function(){return function(t){return i(n(t))}})},function(t,e,r){var n=r(4),i=r(1),o=r(10);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(t,e,r){var n;n=function(t){"use strict";function e(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+e[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+e[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+e[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+e[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+e[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+e[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+e[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+e[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+e[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+e[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+e[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+e[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+e[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+e[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+e[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+e[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+e[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+e[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+e[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+e[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+e[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+e[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+e[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+e[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+i|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function r(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function i(t){var n,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)e(l,r(t.substring(n-64,n)));for(i=(t=t.substring(n-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(l,o),n=0;n<16;n+=1)o[n]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,e(l,o),l}function o(t){var e,r="";for(e=0;e<4;e+=1)r+=l[t>>8*e+4&15]+l[t>>8*e&15];return r}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function c(){this.reset()}var l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var i,o,a,s,u=this.byteLength,c=e(r,u),l=u;return n!==t&&(l=e(n,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),c.prototype.append=function(t){return this.appendBinary(s(t)),this},c.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,i=this._buff.length;for(n=64;n<=i;n+=64)e(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},c.prototype.end=function(t){var e,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),r=a(this._hash),t&&(r=u(r)),this.reset(),r},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(t,r){var n,i,o,a=r;if(t[a>>2]|=128<<(a%4<<3),a>55)for(e(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=i,t[15]=o,e(this._hash,t)},c.hash=function(t,e){return c.hashBinary(s(t),e)},c.hashBinary=function(t,e){var r=a(i(t));return e?u(r):r},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(t){var r,i,o,a,s=(i=this._buff.buffer,o=t,!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),a),u=s.length;for(this._length+=t.byteLength,r=64;r<=u;r+=64)e(this._hash,n(s.subarray(r-64,r)));return this._buff=r-64<u?new Uint8Array(s.buffer.slice(r-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=n[e]<<(e%4<<3);return this._finish(o,i),r=a(this._hash),t&&(r=u(r)),this.reset(),r},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var t,e=c.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},c.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var r,n=t.length,i=new ArrayBuffer(n),o=new Uint8Array(i);for(r=0;r<n;r+=1)o[r]=t.charCodeAt(r);return o}(t.buff),c.prototype.setState.call(this,t)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(t,r){var i=a(function(t){var r,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)e(l,n(t.subarray(r-64,r)));for(i=(t=r-64<c?t.subarray(r-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)o[r>>2]|=t[r]<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(e(l,o),r=0;r<16;r+=1)o[r]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,e(l,o),l}(new Uint8Array(t)));return r?u(i):i},c},t.exports=n()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.UploadManager=void 0;var i=n(r(18)),o=n(r(34)),a=n(r(17)),s=r(12),u=r(93);e.UploadManager=function(){function t(e,r,n){var i=this;(0,a.default)(this,t),this.config=(0,o.default)({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,uphost:null,concurrentRequestLimit:3,region:null},e.config),this.putExtra=(0,o.default)({fname:"",params:{},mimeType:null},e.putExtra),this.statisticsLogger=n,this.progress=null,this.xhrList=[],this.xhrHandler=function(t){return i.xhrList.push(t)},this.aborted=!1,this.file=e.file,this.key=e.key,this.token=e.token,this.onData=function(){},this.onError=function(){},this.onComplete=function(){},this.retryCount=0,(0,o.default)(this,r)}return t.prototype.putFile=function(){var t=this;if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),!this.putExtra.mimeType||!this.putExtra.mimeType.length||(0,s.isContainFileMimeType)(this.file.type,this.putExtra.mimeType)){var e=(0,s.getUploadUrl)(this.config,this.token).then(function(e){return t.uploadUrl=e,t.uploadAt=(new Date).getTime(),t.file.size>4194304?t.resumeUpload():t.directUpload()});return e.then(function(e){t.onComplete(e.data),t.config.disableStatisticsReport||t.sendLog(e.reqId,200)},function(e){if(t.clear(),e.isRequestError&&!t.config.disableStatisticsReport){var r=t.aborted?"":e.reqId,n=t.aborted?-2:e.code;t.sendLog(r,n)}var i=e.isRequestError&&0===e.code&&!t.aborted,o=++t.retryCount<=t.config.retryCount;i&&o?t.putFile():t.onError(e)}),e}var r=new Error("file type doesn't match with what you specify");this.onError(r)},t.prototype.clear=function(){this.xhrList.forEach(function(t){return t.abort()}),this.xhrList=[]},t.prototype.stop=function(){this.clear(),this.aborted=!0},t.prototype.sendLog=function(t,e){this.statisticsLogger.log({code:e,reqId:t,host:(0,s.getDomainFromUrl)(this.uploadUrl),remoteIp:"",port:(0,s.getPortFromUrl)(this.uploadUrl),duration:((new Date).getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:"jssdk-h5",size:this.file.size},this.token)},t.prototype.directUpload=function(){var t=this,e=new FormData;return e.append("file",this.file),e.append("token",this.token),null!=this.key&&e.append("key",this.key),e.append("fname",this.putExtra.fname),(0,s.filterParams)(this.putExtra.params).forEach(function(t){return e.append(t[0],t[1])}),(0,s.request)(this.uploadUrl,{method:"POST",body:e,onProgress:function(e){t.updateDirectProgress(e.loaded,e.total)},onCreate:this.xhrHandler}).then(function(e){return t.finishDirectProgress(),e})},t.prototype.resumeUpload=function(){var t=this;this.loaded={mkFileProgress:0,chunks:null},this.ctxList=[],this.localInfo=(0,s.getLocalFileInfo)(this.file),this.chunks=(0,s.getChunks)(this.file,4194304),this.initChunksProgress();var e=new u.Pool(function(e){return t.uploadChunk(e)},this.config.concurrentRequestLimit),r=this.chunks.map(function(t,r){return e.enqueue({chunk:t,index:r})}),n=i.default.all(r).then(function(){return t.mkFileReq()});return n.then(function(e){(0,s.removeLocalFileInfo)(t.file)},function(e){701!==e.code?(0,s.setLocalFileInfo)(t.file,t.ctxList):(0,s.removeLocalFileInfo)(t.file)}),n},t.prototype.uploadChunk=function(t){var e=this,r=t.index,n=t.chunk,o=this.localInfo[r],a=this.uploadUrl+"/mkblk/"+n.size,u=o&&!(0,s.isChunkExpired)(o.time),c=this.config.checkByMD5,l=function(){return e.updateChunkProgress(n.size,r),e.ctxList[r]={ctx:o.ctx,time:o.time,md5:o.md5},i.default.resolve(null)};return u&&!c?l():(0,s.computeMd5)(n).then(function(t){if(u&&t===o.md5)return l();var i=(0,s.getHeadersForChunkUpload)(e.token),c=e.xhrHandler;return(0,s.request)(a,{method:"POST",headers:i,body:n,onProgress:function(t){e.updateChunkProgress(t.loaded,r)},onCreate:c}).then(function(n){e.ctxList[r]={time:(new Date).getTime(),ctx:n.data.ctx,md5:t}})})},t.prototype.mkFileReq=function(){var t=this,e=(0,o.default)({mimeType:"application/octet-stream"},this.putExtra),r=(0,s.createMkFileUrl)(this.uploadUrl,this.file.size,this.key,e),n=this.ctxList.map(function(t){return t.ctx}).join(","),a=(0,s.getHeadersForMkFile)(this.token),u=this.xhrHandler;return(0,s.request)(r,{method:"POST",body:n,headers:a,onCreate:u}).then(function(e){return t.updateMkFileProgress(1),i.default.resolve(e)})},t.prototype.updateDirectProgress=function(t,e){this.progress={total:this.getProgressInfoItem(t,e+1)},this.onData(this.progress)},t.prototype.finishDirectProgress=function(){var t=this.progress.total;this.progress.total=this.getProgressInfoItem(t.loaded+1,t.size),this.onData(this.progress)},t.prototype.initChunksProgress=function(){this.loaded.chunks=this.chunks.map(function(t){return 0}),this.notifyResumeProgress()},t.prototype.updateChunkProgress=function(t,e){this.loaded.chunks[e]=t,this.notifyResumeProgress()},t.prototype.updateMkFileProgress=function(t){this.loaded.mkFileProgress=t,this.notifyResumeProgress()},t.prototype.notifyResumeProgress=function(){var t=this;this.progress={total:this.getProgressInfoItem((0,s.sum)(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map(function(e,r){return t.getProgressInfoItem(t.loaded.chunks[r],e.size)})},this.onData(this.progress)},t.prototype.getProgressInfoItem=function(t,e){return{loaded:t,size:e,percent:t/e*100}},t}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Pool=void 0;var i=n(r(18)),o=n(r(17));e.Pool=function(){function t(e,r){(0,o.default)(this,t),this.runTask=e,this.queue=[],this.processing=[],this.limit=r}return t.prototype.enqueue=function(t){var e=this;return new i.default(function(r,n){e.queue.push({task:t,resolve:r,reject:n}),e.check()})},t.prototype.run=function(t){var e=this;this.queue=this.queue.filter(function(e){return e!==t}),this.processing.push(t),this.runTask(t.task).then(function(){e.processing=e.processing.filter(function(e){return e!==t}),t.resolve(),e.check()},function(e){return t.reject(e)})},t.prototype.check=function(){var t=this,e=this.processing.length,r=this.limit-e;this.queue.slice(0,r).forEach(function(e,r){t.run(e)})},t}()},function(t,e,r){"use strict";function n(t,e){return t=encodeURIComponent(t),"/"!==e.slice(e.length-1)&&(e+="/"),e+t}function i(t,e,r){if(!/^\d$/.test(t.mode))throw"mode should be number in imageView2";var i=t.mode,o=t.w,a=t.h,s=t.q,u=t.format;if(!o&&!a)throw"param w and h is empty in imageView2";var c="imageView2/"+encodeURIComponent(i);return c+=o?"/w/"+encodeURIComponent(o):"",c+=a?"/h/"+encodeURIComponent(a):"",c+=s?"/q/"+encodeURIComponent(s):"",c+=u?"/format/"+encodeURIComponent(u):"",e&&(c=n(e,r)+"?"+c),c}function o(t,e,r){var i=t["auto-orient"],o=t.thumbnail,a=t.strip,s=t.gravity,u=t.crop,c=t.quality,l=t.rotate,f=t.format,p=t.blur,h="imageMogr2";return h+=i?"/auto-orient":"",h+=o?"/thumbnail/"+encodeURIComponent(o):"",h+=a?"/strip":"",h+=s?"/gravity/"+encodeURIComponent(s):"",h+=c?"/quality/"+encodeURIComponent(c):"",h+=u?"/crop/"+encodeURIComponent(u):"",h+=l?"/rotate/"+encodeURIComponent(l):"",h+=f?"/format/"+encodeURIComponent(f):"",h+=p?"/blur/"+encodeURIComponent(p):"",e&&(h=n(e,r)+"?"+h),h}function a(t,e,r){var i=t.mode;if(!i)throw"mode can't be empty in watermark";var o="watermark/"+i;if(1!==i&&2!==i)throw"mode is wrong";if(1===i){var a=t.image;if(!a)throw"image can't be empty in watermark";o+=a?"/image/"+(0,u.urlSafeBase64Encode)(a):""}if(2===i){var s=t.text,c=t.font,l=t.fontsize,f=t.fill;if(!s)throw"text can't be empty in watermark";o+=s?"/text/"+(0,u.urlSafeBase64Encode)(s):"",o+=c?"/font/"+(0,u.urlSafeBase64Encode)(c):"",o+=l?"/fontsize/"+l:"",o+=f?"/fill/"+(0,u.urlSafeBase64Encode)(f):""}var p=t.dissolve,h=t.gravity,d=t.dx,m=t.dy;return o+=p?"/dissolve/"+encodeURIComponent(p):"",o+=h?"/gravity/"+encodeURIComponent(h):"",o+=d?"/dx/"+encodeURIComponent(d):"",o+=m?"/dy/"+encodeURIComponent(m):"",e&&(o=n(e,r)+"?"+o),o}e.__esModule=!0,e.imageView2=i,e.imageMogr2=o,e.watermark=a,e.imageInfo=function(t,e){var r=n(t,e)+"?imageInfo";return(0,s.request)(r,{method:"GET"})},e.exif=function(t,e){var r=n(t,e)+"?exif";return(0,s.request)(r,{method:"GET"})},e.pipeline=function(t,e,r){var s=void 0,u=void 0,c="";if("[object Array]"===Object.prototype.toString.call(t)){for(var l=0,f=t.length;l<f;l++){if(!(s=t[l]).fop)throw"fop can't be empty in pipeline";switch(s.fop){case"watermark":c+=a(s)+"|";break;case"imageView2":c+=i(s)+"|";break;case"imageMogr2":c+=o(s)+"|";break;default:u=!0}if(u)throw"fop is wrong in pipeline"}if(e){var p=(c=n(e,r)+"?"+c).length;"|"===c.slice(p-1)&&(c=c.slice(0,p-1))}return c}throw"pipeline's first param should be array"};var s=r(12),u=r(56)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Observable=void 0;var i=n(r(96)),o=n(r(17));e.Observable=function(){function t(e){(0,o.default)(this,t),this.subscribeAction=e}return t.prototype.subscribe=function(t,e,r){var n=new a(t,e,r),i=this.subscribeAction(n);return new s(n,i)},t}();var a=function(){function t(e,r,n){(0,o.default)(this,t),this.isStopped=!1,"object"===(void 0===e?"undefined":(0,i.default)(e))?(this._onNext=e.next,this._onError=e.error,this._onCompleted=e.complete):(this._onNext=e,this._onError=r,this._onCompleted=n)}return t.prototype.next=function(t){!this.isStopped&&this._onNext&&this._onNext(t)},t.prototype.error=function(t){!this.isStopped&&this._onError&&(this.isStopped=!0,this._onError(t))},t.prototype.complete=function(t){!this.isStopped&&this._onCompleted&&(this.isStopped=!0,this._onCompleted(t))},t}(),s=function(){function t(e,r){(0,o.default)(this,t),this.observer=e,this.result=r}return t.prototype.unsubscribe=function(){this.observer.isStopped=!0,this.result()},t}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(r(97)),o=n(r(99)),a="function"==typeof o.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===a(i.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e,r){t.exports={default:r(98),__esModule:!0}},function(t,e,r){r(41),r(50),t.exports=r(37).f("iterator")},function(t,e,r){t.exports={default:r(100),__esModule:!0}},function(t,e,r){r(101),r(40),r(107),r(108),t.exports=r(1).Symbol},function(t,e,r){"use strict";var n=r(0),i=r(9),o=r(8),a=r(4),s=r(44),u=r(102).KEY,c=r(10),l=r(30),f=r(23),p=r(22),h=r(2),d=r(37),m=r(38),g=r(103),v=r(104),y=r(3),b=r(7),x=r(11),w=r(28),S=r(21),_=r(45),A=r(105),C=r(106),U=r(6),k=r(15),P=C.f,I=U.f,F=A.f,T=n.Symbol,D=n.JSON,O=D&&D.stringify,E=h("_hidden"),M=h("toPrimitive"),L={}.propertyIsEnumerable,R=l("symbol-registry"),j=l("symbols"),q=l("op-symbols"),N=Object.prototype,B="function"==typeof T,G=n.QObject,z=!G||!G.prototype||!G.prototype.findChild,V=o&&c(function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=P(N,e);n&&delete N[e],I(t,e,r),n&&t!==N&&I(N,e,n)}:I,H=function(t){var e=j[t]=_(T.prototype);return e._k=t,e},$=B&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},W=function(t,e,r){return t===N&&W(q,e,r),y(t),e=w(e,!0),y(r),i(j,e)?(r.enumerable?(i(t,E)&&t[E][e]&&(t[E][e]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,E)||I(t,E,S(1,{})),t[E][e]=!0),V(t,e,r)):I(t,e,r)},Y=function(t,e){y(t);for(var r,n=g(e=x(e)),i=0,o=n.length;o>i;)W(t,r=n[i++],e[r]);return t},X=function(t){var e=L.call(this,t=w(t,!0));return!(this===N&&i(j,t)&&!i(q,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,E)&&this[E][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==N||!i(j,e)||i(q,e)){var r=P(t,e);return!r||!i(j,e)||i(t,E)&&t[E][e]||(r.enumerable=!0),r}},K=function(t){for(var e,r=F(x(t)),n=[],o=0;r.length>o;)i(j,e=r[o++])||e==E||e==u||n.push(e);return n},Q=function(t){for(var e,r=t===N,n=F(r?q:x(t)),o=[],a=0;n.length>a;)!i(j,e=n[a++])||r&&!i(N,e)||o.push(j[e]);return o};B||(s((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(r){this===N&&e.call(q,r),i(this,E)&&i(this[E],t)&&(this[E][t]=!1),V(this,t,S(1,r))};return o&&z&&V(N,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),C.f=J,U.f=W,r(57).f=A.f=K,r(24).f=X,r(35).f=Q,o&&!r(13)&&s(N,"propertyIsEnumerable",X,!0),d.f=function(t){return H(h(t))}),a(a.G+a.W+a.F*!B,{Symbol:T});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)h(Z[tt++]);for(var et=k(h.store),rt=0;et.length>rt;)m(et[rt++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=T(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?_(t):Y(_(t),e)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),D&&a(a.S+a.F*(!B||c(function(){var t=T();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(b(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!$(e))return e}),n[1]=e,O.apply(D,n)}}),T.prototype[M]||r(5)(T.prototype,M,T.prototype.valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(t,e,r){var n=r(22)("meta"),i=r(7),o=r(9),a=r(6).f,s=0,u=Object.isExtensible||function(){return!0},c=!r(10)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,n)&&l(t),t}}},function(t,e,r){var n=r(15),i=r(35),o=r(24);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var a,s=r(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,r){var n=r(16);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(11),i=r(57).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e,r){var n=r(24),i=r(21),o=r(11),a=r(28),s=r(9),u=r(43),c=Object.getOwnPropertyDescriptor;e.f=r(8)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){r(38)("asyncIterator")},function(t,e,r){r(38)("observable")},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.StatisticsLogger=void 0;var i=n(r(36)),o=n(r(17)),a=r(12);e.StatisticsLogger=function(){function t(){(0,o.default)(this,t)}return t.prototype.log=function(t,e){var r="";(0,i.default)(t).forEach(function(e){return r+=t[e]+","}),this.send(r,e)},t.prototype.send=function(t,e){var r=(0,a.createXHR)(),n=0;r.open("POST","https://uplog.qbox.me/log/3"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("Authorization","UpToken "+e),r.onreadystatechange=function(){4===r.readyState&&200!==r.status&&++n<=3&&r.send(t)},r.send(t)},t}()},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(r(18)),o=n(r(34)),a=n(r(17)),s=n(r(36)),u=r(111),c=r(12),l={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"},f=Math.log(2),p=(0,s.default)(l).map(function(t){return l[t]}),h=l.JPEG,d=function(){function t(e,r){(0,a.default)(this,t),this.config=(0,o.default)({quality:.92,noCompressIfLarger:!1},r),this.file=e}return t.prototype.process=function(){var t=this;this.outputType=this.file.type;var e,r={};return e=this.file.type,p.includes(e)?this.getOriginImage().then(function(e){return t.getCanvas(e)}).then(function(e){var n=1;return t.config.maxWidth&&(n=Math.min(1,t.config.maxWidth/e.width)),t.config.maxHeight&&(n=Math.min(1,n,t.config.maxHeight/e.height)),r.width=e.width,r.height=e.height,t.doScale(e,n)}).then(function(e){var n=t.toBlob(e);return n.size>t.file.size&&t.config.noCompressIfLarger?{dist:t.file,width:r.width,height:r.height}:{dist:n,width:e.width,height:e.height}}):i.default.reject(new Error("unsupported file type: "+this.file.type))},t.prototype.clear=function(t,e,r){this.outputType===h?(t.fillStyle="#fff",t.fillRect(0,0,e,r)):t.clearRect(0,0,e,r)},t.prototype.getOriginImage=function(){var t=this;return new i.default(function(e,r){var n=(0,c.createObjectURL)(t.file),i=new Image;i.onload=function(){e(i)},i.onerror=function(){r("image load error")},i.src=n})},t.prototype.getCanvas=function(t){var e=this;return new i.default(function(r,n){u.EXIF.getData(t,function(){var n=u.EXIF.getTag(t,"Orientation")||1,i=(0,c.getTransform)(t,n),o=i.width,a=i.height,s=i.matrix,l=document.createElement("canvas"),f=l.getContext("2d");l.width=o,l.height=a,e.clear(f,o,a),f.transform.apply(f,s),f.drawImage(t,0,0),r(l)})})},t.prototype.doScale=function(t,e){if(1===e)return i.default.resolve(t);var r=t.getContext("2d"),n=Math.min(4,Math.ceil(1/e/f)),o=Math.pow(e,1/n),a=document.createElement("canvas"),s=a.getContext("2d"),u=t.width,c=t.height,l=u,p=c;a.width=u,a.height=c;for(var h=void 0,d=void 0,m=0;m<n;m++){var g=u*o|0,v=c*o|0;m===n-1&&(g=l*e,v=p*e),m%2==0?(h=t,d=s):(h=a,d=r),this.clear(d,u,c),d.drawImage(h,0,0,u,c,0,0,g,v),u=g,c=v}var y=h===t?a:t,b=d.getImageData(0,0,u,c);return y.width=u,y.height=c,d.putImageData(b,0,0),i.default.resolve(y)},t.prototype.toBlob=function(t){var e=t.toDataURL(this.outputType,this.config.quality),r=atob(e.split(",")[1]).split("").map(function(t){return t.charCodeAt(0)});return new Blob([new Uint8Array(r)],{type:this.outputType})},t}();e.default=function(t,e){return new d(t,e).process()}},function(t,e,r){var i;(function(){function r(t){return!!t.exifdata}function o(t,e){function r(r){var n=a(r);t.exifdata=n||{};var i=function(t){var e=new DataView(t);if(d&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var r=2,n=t.byteLength;r<n;){if(function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)}(e,r)){var i=e.getUint8(r+7);return i%2!=0&&(i+=1),0===i&&(i=4),s(t,r+8+i,e.getUint16(r+6+i))}r++}}(r);if(t.iptcdata=i||{},m.isXmpEnabled){var o=function(t){if("DOMParser"in self){var e=new DataView(t);if(d&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var r=2,n=t.byteLength,i=new DOMParser;r<n-4;){if("http"==l(e,r,4)){var o=l(e,r-1,e.getUint16(r-2)-1),a=o.indexOf("xmpmeta>")+8,s=(o=o.substring(o.indexOf("<x:xmpmeta"),a)).indexOf("x:xmpmeta")+10;return o=o.slice(0,s)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+o.slice(s),h(i.parseFromString(o,"text/xml"))}r++}}}(r);t.xmpdata=o||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))r(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var r=atob(t),n=r.length,i=new ArrayBuffer(n),o=new Uint8Array(i),a=0;a<n;a++)o[a]=r.charCodeAt(a);return i}(t.src));else if(/^blob\:/i.test(t.src))(i=new FileReader).onload=function(t){r(t.target.result)},function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(t){200!=this.status&&0!==this.status||function(t){i.readAsArrayBuffer(t)}(this.response)},r.send()}(t.src);else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";r(n.response),n=null},n.open("GET",t.src,!0),n.responseType="arraybuffer",n.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var i;(i=new FileReader).onload=function(t){d&&console.log("Got file of length "+t.target.result.byteLength),r(t.target.result)},i.readAsArrayBuffer(t)}}function a(t){var e=new DataView(t);if(d&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return d&&console.log("Not a valid JPEG"),!1;for(var r,n=2,i=t.byteLength;n<i;){if(255!=e.getUint8(n))return d&&console.log("Not a valid marker at offset "+n+", found: "+e.getUint8(n)),!1;if(r=e.getUint8(n+1),d&&console.log(r),225==r)return d&&console.log("Found 0xFFE1 marker"),f(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}function s(t,e,r){for(var n,i,o,a,s=new DataView(t),u={},c=e;c<e+r;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in w&&(o=s.getInt16(c+3),i=w[a],n=l(s,c+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(n):u[i]=[u[i],n]:u[i]=n),c++;return u}function u(t,e,r,n,i){var o,a,s,u=t.getUint16(r,!i),l={};for(s=0;s<u;s++)o=r+12*s+2,!(a=n[t.getUint16(o,!i)])&&d&&console.log("Unknown tag: "+t.getUint16(o,!i)),l[a]=c(t,o,e,r,i);return l}function c(t,e,r,n,i){var o,a,s,u,c,f,p=t.getUint16(e+2,!i),h=t.getUint32(e+4,!i),d=t.getUint32(e+8,!i)+r;switch(p){case 1:case 7:if(1==h)return t.getUint8(e+8,!i);for(o=h>4?d:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint8(o+u);return a;case 2:return l(t,o=h>4?d:e+8,h-1);case 3:if(1==h)return t.getUint16(e+8,!i);for(o=h>2?d:e+8,a=[],u=0;u<h;u++)a[u]=t.getUint16(o+2*u,!i);return a;case 4:if(1==h)return t.getUint32(e+8,!i);for(a=[],u=0;u<h;u++)a[u]=t.getUint32(d+4*u,!i);return a;case 5:if(1==h)return c=t.getUint32(d,!i),f=t.getUint32(d+4,!i),(s=new Number(c/f)).numerator=c,s.denominator=f,s;for(a=[],u=0;u<h;u++)c=t.getUint32(d+8*u,!i),f=t.getUint32(d+4+8*u,!i),a[u]=new Number(c/f),a[u].numerator=c,a[u].denominator=f;return a;case 9:if(1==h)return t.getInt32(e+8,!i);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(d+4*u,!i);return a;case 10:if(1==h)return t.getInt32(d,!i)/t.getInt32(d+4,!i);for(a=[],u=0;u<h;u++)a[u]=t.getInt32(d+8*u,!i)/t.getInt32(d+4+8*u,!i);return a}}function l(t,e,r){var i="";for(n=e;n<e+r;n++)i+=String.fromCharCode(t.getUint8(n));return i}function f(t,e){if("Exif"!=l(t,e,4))return d&&console.log("Not valid EXIF data! "+l(t,e,4)),!1;var r,n,i,o,a,s=e+6;if(18761==t.getUint16(s))r=!1;else{if(19789!=t.getUint16(s))return d&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;r=!0}if(42!=t.getUint16(s+2,!r))return d&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=t.getUint32(s+4,!r);if(c<8)return d&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(s+4,!r)),!1;if((n=u(t,s,s+c,v,r)).ExifIFDPointer)for(i in o=u(t,s,s+n.ExifIFDPointer,g,r)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[i]=x[i][o[i]];break;case"ExifVersion":case"FlashpixVersion":o[i]=String.fromCharCode(o[i][0],o[i][1],o[i][2],o[i][3]);break;case"ComponentsConfiguration":o[i]=x.Components[o[i][0]]+x.Components[o[i][1]]+x.Components[o[i][2]]+x.Components[o[i][3]]}n[i]=o[i]}if(n.GPSInfoIFDPointer)for(i in a=u(t,s,s+n.GPSInfoIFDPointer,y,r)){switch(i){case"GPSVersionID":a[i]=a[i][0]+"."+a[i][1]+"."+a[i][2]+"."+a[i][3]}n[i]=a[i]}return n.thumbnail=function(t,e,r,n){var i=function(t,e,r){var n=t.getUint16(e,!r);return t.getUint32(e+2+12*n,!r)}(t,e+c,n);if(!i)return{};if(i>t.byteLength)return{};var o=u(t,e,e+i,b,n);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var a=e+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(t.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,s,0,r),n}function p(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var r=0;r<t.attributes.length;r++){var n=t.attributes.item(r);e["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes.item(i),a=o.nodeName;if(null==e[a])e[a]=p(o);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(p(o))}}return e}function h(t){try{var e={};if(t.children.length>0)for(var r=0;r<t.children.length;r++){var n=t.children.item(r),i=n.attributes;for(var o in i){var a=i[o],s=a.nodeName,u=a.nodeValue;void 0!==s&&(e[s]=u)}var c=n.nodeName;if(void 0===e[c])e[c]=p(n);else{if(void 0===e[c].push){var l=e[c];e[c]=[],e[c].push(l)}e[c].push(p(n))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}var d=!1,m=function(t){return t instanceof m?t:this instanceof m?void(this.EXIFwrapped=t):new m(t)};void 0!==t&&t.exports&&(e=t.exports=m),e.EXIF=m;var g=m.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},v=m.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},y=m.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},b=m.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},x=m.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},w={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};m.enableXmp=function(){m.isXmpEnabled=!0},m.disableXmp=function(){m.isXmpEnabled=!1},m.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(r(t)?e&&e.call(t):o(t,e),0))},m.getTag=function(t,e){if(r(t))return t.exifdata[e]},m.getIptcTag=function(t,e){if(r(t))return t.iptcdata[e]},m.getAllTags=function(t){if(!r(t))return{};var e,n=t.exifdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},m.getAllIptcTags=function(t){if(!r(t))return{};var e,n=t.iptcdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},m.pretty=function(t){if(!r(t))return"";var e,n=t.exifdata,i="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?i+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":i+=e+" : ["+n[e].length+" values]\r\n":i+=e+" : "+n[e]+"\r\n");return i},m.readFromBinaryFile=function(t){return a(t)},void 0===(i=function(){return m}.apply(e,[]))||(t.exports=i)}).call(this)}])},t.exports=i()},ctMr:function(t,e,r){var n=r("z4F4");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("6077c87a",n,!0)},fxRn:function(t,e,r){r("+tPU"),r("zQR9"),t.exports=r("g8Ux")},g8Ux:function(t,e,r){var n=r("77Pl"),i=r("3fs2");t.exports=r("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},"sYY+":function(t,e,r){var n=r("xltY");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("c233f034",n,!0)},sZNU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("BO1k"),i=r.n(n),o=r("vLgD");var a=r("EX+S"),s=r("cAgV"),u=r("cpGA"),c={name:"activity",directives:{waves:s.a},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{page:1,limit:20},tempActivity:{id:void 0,title:void 0,giftName:void 0,giftPrice:void 0,giftTotalCount:void 0,bannerUrl:void 0,headerUrl:void 0,bargainSteps:void 0,rangeDate:[this.$moment().startOf("day").toDate(),this.$moment().endOf("day").toDate()],isCurrent:!1,isActive:!0},createDialogVisible:!1,imageDialogVisible:!1,qiniu:{},stepDialogVisible:!1,updateDialogVisible:!1,activeTabName:"baseInfo"}},created:function(){this.getList()},methods:{getList:function(){var t,e=this;this.listLoading=!0,(t=this.listQuery,Object(o.a)({url:"/api/activities",method:"get",params:t})).then(function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1})},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},resetTempActivity:function(){this.tempActivity={id:void 0,title:void 0,giftName:void 0,giftPrice:void 0,giftTotalCount:void 0,bannerUrl:void 0,headerUrl:void 0,bargainSteps:void 0,rangeDate:[this.$moment().startOf("day").toDate(),this.$moment().endOf("day").toDate()],isCurrent:!1,isActive:!0}},handleCreate:function(){var t=this;this.resetTempActivity(),this.createDialogVisible=!0,this.$nextTick(function(){t.$refs.activityForm.clearValidate()})},createActivity:function(){var t=this;this.$refs.activityForm.validate(function(e){if(e){var r={title:t.tempActivity.title,giftName:t.tempActivity.giftName,giftPrice:t.tempActivity.giftPrice,giftTotalCount:t.tempActivity.giftTotalCount,startDate:t.tempActivity.rangeDate[0],endDate:t.tempActivity.rangeDate[1],isActive:t.tempActivity.isActive};(n=r,Object(o.a)({url:"/api/activities",method:"post",data:n})).then(function(e){t.list.unshift(e.data),t.createDialogVisible=!1,t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})}var n})},handleUpdate:function(t){var e=this;if(this.tempActivity={id:t._id,title:t.title,giftName:t.giftName,giftPrice:t.giftPrice,giftTotalCount:t.giftTotalCount,rangeDate:[this.$moment(t.startDate).toDate(),this.$moment(t.endDate).toDate()],isActive:t.isActive,bannerUrl:t.bannerUrl,headerUrl:t.headerUrl,isSame:t.bannerUrl===t.headerUrl,ruleUrl:t.ruleUrl,normalShareTitle:t.normalShareTitle,normalShareUrl:t.normalShareUrl,helpShareTitle:t.helpShareTitle,helpShareUrl:t.helpShareUrl,bargainSteps:[],isCurrent:t.isCurrent},0!==t.bargainSteps.length)this.tempActivity.bargainSteps=t.bargainSteps.map(function(t,e){return{value:t,key:"step-"+e}});else{var r=Math.floor(t.giftPrice/2);this.tempActivity.bargainSteps.push({value:r,key:"step-0"}),this.tempActivity.bargainSteps.push({value:t.giftPrice-r,key:"step-1"})}this.updateDialogVisible=!0,this.activeTabName="baseInfo",this.$nextTick(function(){e.$refs.baseInfoForm.clearValidate()})},handleTabClick:function(t,e){this.activeTabName!==t.name&&(this.activeTabName=t.name,"status"!==this.activeTabName&&this.$refs[this.activeTabName+"Form"].clearValidate())},resetForm:function(t){this.$refs[t].resetFields()},updateBaseInfo:function(){var t=this;this.$refs.baseInfoForm.validate(function(e){e&&function(t,e){return Object(o.a)({url:"/api/activities/"+t,method:"put",data:e})}(t.tempActivity.id,{title:t.tempActivity.title,giftName:t.tempActivity.giftName,giftPrice:t.tempActivity.giftPrice,giftTotalCount:t.tempActivity.giftTotalCount,startDate:t.tempActivity.rangeDate[0],endDate:t.tempActivity.rangeDate[1],isActive:t.tempActivity.isActive}).then(function(e){var r=e.data,n=!0,o=!1,a=void 0;try{for(var s,u=i()(t.list);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c._id===r._id){var l=t.list.indexOf(c);t.list.splice(l,1,r);break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}t.updateDialogVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})})},handleUpdateCurrent:function(){var t,e=this;(t={currentActivity:this.tempActivity.id},Object(o.a)({url:"/api/activities/setCurrent",method:"post",data:t})).then(function(t){var r=t.data.currentActivity,n=!0,o=!1,a=void 0;try{for(var s,u=i()(e.list);!(n=(s=u.next()).done);n=!0){var c=s.value;c._id===r?c.isCurrent=!0:c.isCurrent=!1}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}e.updateDialogVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})},handleImageUpload:function(t){var e=this;Object(a.a)({}).then(function(r){console.info("data: ",r.data),e.qiniu={uploadToken:r.data.uploadToken,baseUrl:r.data.baseUrl};var n,i=(n=e.qiniu.uploadToken,function(t){var e=t.file,r=e.name.split("."),i=r.splice(r.length-1,1)[0],o=r.join(".")+"_"+(new Date).getTime()+"."+i;return u.upload(e,o,n,{},{}).subscribe(function(e){var r=e.total;return t.onProgress({percent:r.percent})},function(e){return t.onError(e)},function(e){return t.onSuccess(e)})});e.qiniu.subscription=i(t)})},handleBannerImageSuccess:function(t,e){this.tempActivity.bannerUrl=this.qiniu.baseUrl+t.key},handleHeaderImageSuccess:function(t,e){this.tempActivity.headerUrl=this.qiniu.baseUrl+t.key},handleRuleImageSuccess:function(t,e){this.tempActivity.ruleUrl=this.qiniu.baseUrl+t.key},handleNormalShareImageSuccess:function(t,e){this.tempActivity.normalShareUrl=this.qiniu.baseUrl+t.key},handleHelpShareImageSuccess:function(t,e){this.tempActivity.helpShareUrl=this.qiniu.baseUrl+t.key},beforeImageUpload:function(t){var e=-1!==["image/jpeg","image/png"].indexOf(t.type),r=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG / PNG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&r},updateBannerImage:function(){var t=this;this.$refs.bannerImageForm.validate(function(e){if(e){var r=t.tempActivity.id,n={bannerUrl:t.tempActivity.bannerUrl};t.tempActivity.isSame?n.headerUrl=t.tempActivity.bannerUrl:n.headerUrl=t.tempActivity.headerUrl,function(t,e){return Object(o.a)({url:"/api/activities/"+t+"/updateBannerImage",method:"put",data:e})}(r,n).then(function(e){var r=e.data,n=!0,o=!1,a=void 0;try{for(var s,u=i()(t.list);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c._id===r._id){var l=t.list.indexOf(c);t.list.splice(l,1,r);break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}t.updateDialogVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}})},updateRuleImage:function(){var t=this;this.$refs.ruleImageForm.validate(function(e){e&&function(t,e){return Object(o.a)({url:"/api/activities/"+t+"/updateRuleImage",method:"put",data:e})}(t.tempActivity.id,{ruleUrl:t.tempActivity.ruleUrl}).then(function(e){var r=e.data,n=!0,o=!1,a=void 0;try{for(var s,u=i()(t.list);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c._id===r._id){var l=t.list.indexOf(c);t.list.splice(l,1,r);break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}t.updateDialogVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})})},updateShareInfo:function(){var t=this;this.$refs.shareInfoForm.validate(function(e){e&&function(t,e){return Object(o.a)({url:"/api/activities/"+t+"/updateShareInfo",method:"put",data:e})}(t.tempActivity.id,{normalShareTitle:t.tempActivity.normalShareTitle,normalShareUrl:t.tempActivity.normalShareUrl,helpShareTitle:t.tempActivity.helpShareTitle,helpShareUrl:t.tempActivity.helpShareUrl}).then(function(e){var r=e.data,n=!0,o=!1,a=void 0;try{for(var s,u=i()(t.list);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c._id===r._id){var l=t.list.indexOf(c);t.list.splice(l,1,r);break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}t.updateDialogVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})})},removeStep:function(t){var e=this.tempActivity.bargainSteps.indexOf(t);-1!==e&&this.tempActivity.bargainSteps.splice(e,1)},addStep:function(){var t=0;this.tempActivity.bargainSteps.forEach(function(e){t+=e.value}),t<this.tempActivity.giftPrice?this.tempActivity.bargainSteps.push({value:1,key:"step-"+this.tempActivity.bargainSteps.length}):this.$message.error("当前档次价格总和已大于或等于奖品价格")},updateBargainSteps:function(){var t=this;this.$refs.bargainStepsForm.validate(function(e){if(e){var r=t.tempActivity.id,n=0,a=t.tempActivity.bargainSteps.map(function(t){return n+=t.value,t.value});if(n>t.tempActivity.giftPrice)t.$message.error("砍价档次总和不能大于奖品价格");else(function(t,e){return Object(o.a)({url:"/api/activities/"+t+"/updateBargainSteps",method:"put",data:e})})(r,{bargainSteps:a,giftFloorPrice:t.tempActivity.giftPrice-n}).then(function(e){var r=e.data,n=!0,o=!1,a=void 0;try{for(var s,u=i()(t.list);!(n=(s=u.next()).done);n=!0){var c=s.value;if(c._id===r._id){var l=t.list.indexOf(c);t.list.splice(l,1,r);break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}t.updateDialogVisible=!1,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}})}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreate}},[t._v("添加活动")])],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,attrs:{data:t.list,"element-loading-text":"加载中...",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"活动名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.title))]),t._v(" "),e.row.isCurrent?r("el-tag",[t._v("当前")]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"活动奖品"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.giftName))]),t._v(" "),r("el-tag",[t._v(t._s(e.row.giftPrice)+" 元")]),t._v(" "),r("el-tag",[t._v(t._s(e.row.giftTotalCount)+" 份")])]}}])}),t._v(" "),r("el-table-column",{attrs:{width:"400",label:"活动时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("moment")(e.row.startDate,"YYYY-MM-DD HH:mm:ss"))+" 至 "+t._s(t._f("moment")(e.row.endDate,"YYYY-MM-DD HH:mm:ss")))])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",width:"200",label:"操作","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){t.handleUpdate(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),r("div",{staticClass:"pagination-container"},[r("el-pagination",{attrs:{background:"","current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),r("el-dialog",{attrs:{title:"创建活动",visible:t.createDialogVisible},on:{"update:visible":function(e){t.createDialogVisible=e}}},[r("el-form",{ref:"activityForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"活动名称",prop:"title",rules:[{type:"string",required:!0,message:"活动名称不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.title,callback:function(e){t.$set(t.tempActivity,"title",e)},expression:"tempActivity.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品名称",prop:"giftName",rules:[{type:"string",required:!0,message:"奖品名称不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.giftName,callback:function(e){t.$set(t.tempActivity,"giftName",e)},expression:"tempActivity.giftName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品价格",prop:"giftPrice",rules:[{required:!0,message:"奖品价格不能为空",trigger:"change"},{type:"number",message:"奖品价格必须为数字",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.giftPrice,callback:function(e){t.$set(t.tempActivity,"giftPrice",t._n(e))},expression:"tempActivity.giftPrice"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品总数量",prop:"giftTotalCount",rules:[{required:!0,message:"奖品总数量不能为空",trigger:"change"},{type:"number",message:"奖品总数量必须为数字",trigger:"change"}]}},[r("el-input-number",{attrs:{min:1},model:{value:t.tempActivity.giftTotalCount,callback:function(e){t.$set(t.tempActivity,"giftTotalCount",t._n(e))},expression:"tempActivity.giftTotalCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动时间",prop:"rangeDate",rules:[{required:!0,message:"活动时间不能为空",trigger:"change"}]}},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.tempActivity.rangeDate,callback:function(e){t.$set(t.tempActivity,"rangeDate",e)},expression:"tempActivity.rangeDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"开启活动",required:""}},[r("el-switch",{model:{value:t.tempActivity.isActive,callback:function(e){t.$set(t.tempActivity,"isActive",e)},expression:"tempActivity.isActive"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.createDialogVisible=!1}}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.createActivity}},[t._v("确认")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑活动",visible:t.updateDialogVisible},on:{"update:visible":function(e){t.updateDialogVisible=e}}},[r("el-tabs",{attrs:{value:t.activeTabName,"tab-position":"left"},on:{"tab-click":t.handleTabClick}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"baseInfo"}},[r("el-form",{ref:"baseInfoForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"活动名称",prop:"title",rules:[{type:"string",required:!0,message:"活动名称不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.title,callback:function(e){t.$set(t.tempActivity,"title",e)},expression:"tempActivity.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品名称",prop:"giftName",rules:[{type:"string",required:!0,message:"奖品名称不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.giftName,callback:function(e){t.$set(t.tempActivity,"giftName",e)},expression:"tempActivity.giftName"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品价格",prop:"giftPrice",rules:[{required:!0,message:"奖品价格不能为空",trigger:"change"},{type:"number",message:"奖品价格必须为数字",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.giftPrice,callback:function(e){t.$set(t.tempActivity,"giftPrice",t._n(e))},expression:"tempActivity.giftPrice"}},[r("template",{slot:"append"},[t._v("元")])],2)],1),t._v(" "),r("el-form-item",{attrs:{label:"奖品总数量",prop:"giftTotalCount",rules:[{required:!0,message:"奖品总数量不能为空",trigger:"change"},{type:"number",message:"奖品总数量必须为数字",trigger:"change"}]}},[r("el-input-number",{attrs:{min:1},model:{value:t.tempActivity.giftTotalCount,callback:function(e){t.$set(t.tempActivity,"giftTotalCount",t._n(e))},expression:"tempActivity.giftTotalCount"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"活动时间",prop:"rangeDate",rules:[{required:!0,message:"活动时间不能为空",trigger:"change"}]}},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.tempActivity.rangeDate,callback:function(e){t.$set(t.tempActivity,"rangeDate",e)},expression:"tempActivity.rangeDate"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"开启活动",required:""}},[r("el-switch",{model:{value:t.tempActivity.isActive,callback:function(e){t.$set(t.tempActivity,"isActive",e)},expression:"tempActivity.isActive"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.updateBaseInfo()}}},[t._v("确认修改")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetForm("baseInfoForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"Banner&Header图",name:"bannerImage"}},[r("el-form",{ref:"bannerImageForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"Banner图",prop:"bannerUrl",rules:[{type:"string",required:!0,message:"请上传Banner图",trigger:"blur"}]}},[r("el-upload",{staticClass:"image-uploader",attrs:{action:"action","http-request":t.handleImageUpload,"show-file-list":!1,"on-success":t.handleBannerImageSuccess,"before-upload":t.beforeImageUpload}},[t.tempActivity.bannerUrl?r("img",{staticClass:"image",attrs:{src:t.tempActivity.bannerUrl}}):r("i",{staticClass:"el-icon-plus image-uploader-icon"})])],1),t._v(" "),r("el-form-item",{attrs:{label:"Header图继承",required:""}},[r("el-switch",{model:{value:t.tempActivity.isSame,callback:function(e){t.$set(t.tempActivity,"isSame",e)},expression:"tempActivity.isSame"}})],1),t._v(" "),t.tempActivity.isSame?t._e():r("el-form-item",{attrs:{label:"Header图",prop:"headerUrl",rules:[{type:"string",required:!0,message:"请上传Header图",trigger:"blur"}]}},[r("el-upload",{staticClass:"image-uploader",attrs:{action:"action","http-request":t.handleImageUpload,"show-file-list":!1,"on-success":t.handleHeaderImageSuccess,"before-upload":t.beforeImageUpload}},[t.tempActivity.headerUrl?r("img",{staticClass:"image",attrs:{src:t.tempActivity.headerUrl}}):r("i",{staticClass:"el-icon-plus image-uploader-icon"})])],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.updateBannerImage()}}},[t._v("确认修改")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetForm("bannerImageForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"活动规则",name:"ruleImage"}},[r("el-form",{ref:"ruleImageForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"活动规则图",prop:"ruleUrl",rules:[{type:"string",required:!0,message:"请上传活动规则图",trigger:"blur"}]}},[r("el-upload",{staticClass:"image-uploader",attrs:{action:"action","http-request":t.handleImageUpload,"show-file-list":!1,"on-success":t.handleRuleImageSuccess,"before-upload":t.beforeImageUpload}},[t.tempActivity.ruleUrl?r("img",{staticClass:"image rule",attrs:{src:t.tempActivity.ruleUrl}}):r("i",{staticClass:"el-icon-plus image-uploader-icon rule"})])],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.updateRuleImage()}}},[t._v("确认修改")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetForm("ruleImageForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"分享信息",name:"shareInfo"}},[r("el-form",{ref:"shareInfoForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[r("el-form-item",{attrs:{label:"正常分享标题",prop:"normalShareTitle",rules:[{type:"string",required:!0,message:"正常分享标题不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.normalShareTitle,callback:function(e){t.$set(t.tempActivity,"normalShareTitle",e)},expression:"tempActivity.normalShareTitle"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"正常分享图",prop:"normalShareUrl",rules:[{type:"string",required:!0,message:"请上传正常分享图",trigger:"blur"}]}},[r("el-upload",{staticClass:"image-uploader",attrs:{action:"action","http-request":t.handleImageUpload,"show-file-list":!1,"on-success":t.handleNormalShareImageSuccess,"before-upload":t.beforeImageUpload}},[t.tempActivity.normalShareUrl?r("img",{staticClass:"image share",attrs:{src:t.tempActivity.normalShareUrl}}):r("i",{staticClass:"el-icon-plus image-uploader-icon share"})])],1),t._v(" "),r("el-form-item",{attrs:{label:"助力分享标题",prop:"helpShareTitle",rules:[{type:"string",required:!0,message:"助力分享标题不能为空",trigger:"change"}]}},[r("el-input",{model:{value:t.tempActivity.helpShareTitle,callback:function(e){t.$set(t.tempActivity,"helpShareTitle",e)},expression:"tempActivity.helpShareTitle"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"助力分享图",prop:"helpShareUrl",rules:[{type:"string",required:!0,message:"请上传助力分享图",trigger:"blur"}]}},[r("el-upload",{staticClass:"image-uploader",attrs:{action:"action","http-request":t.handleImageUpload,"show-file-list":!1,"on-success":t.handleHelpShareImageSuccess,"before-upload":t.beforeImageUpload}},[t.tempActivity.helpShareUrl?r("img",{staticClass:"image share",attrs:{src:t.tempActivity.helpShareUrl}}):r("i",{staticClass:"el-icon-plus image-uploader-icon share"})])],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.updateShareInfo()}}},[t._v("确认修改")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetForm("shareInfoForm")}}},[t._v("重置")])],1)],1)],1),t._v(" "),r("el-tab-pane",{attrs:{label:"砍价档次",name:"bargainSteps"}},[r("el-form",{ref:"bargainStepsForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:t.tempActivity,"status-icon":"","label-position":"left","label-width":"120px"}},[t._l(t.tempActivity.bargainSteps,function(e,n){return r("el-form-item",{key:e.key,attrs:{label:0===n?"本人砍价":"第"+n+"次助战砍价",prop:"bargainSteps."+n+".value",rules:[{required:!0,message:"砍价档次不能为空",trigger:"blur"},{type:"number",message:"砍价档次必须为数字",trigger:"change"}]}},[r("el-input",{model:{value:e.value,callback:function(r){t.$set(e,"value",t._n(r))},expression:"step.value"}},[n>1?r("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(r){r.preventDefault(),t.removeStep(e)}},slot:"append"}):t._e()],1)],1)}),t._v(" "),r("el-form-item",[r("el-button",{on:{click:t.addStep}},[t._v("新增档次")])],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.updateBargainSteps()}}},[t._v("确认修改")]),t._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetForm("bargainStepsForm")}}},[t._v("重置")])],1)],2)],1),t._v(" "),t.tempActivity.isCurrent?t._e():r("el-tab-pane",{attrs:{label:"设置为当前活动",name:"status"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.handleUpdateCurrent()}}},[t._v("确认设置")])],1)],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(c,l,!1,function(t){r("sYY+")},null,null);e.default=f.exports},xltY:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"\n.image-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.image-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.image-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 350px;\n  height: 150px;\n  line-height: 150px;\n  text-align: center;\n}\n.image-uploader-icon.rule {\n  width: 350px;\n  height: 525px;\n  line-height: 525px;\n}\n.image-uploader-icon.share {\n  width: 250px;\n  height: 200px;\n  line-height: 200px;\n}\n.image {\n  width: 350px;\n  height: 150px;\n  display: block;\n}\n.image.rule {\n  width: 350px;\n  height: 525px;\n  display: block;\n}\n.image.share {\n  width: 250px;\n  height: 200px;\n  display: block;\n}\n",""])},z4F4:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".waves-ripple {\n    position: absolute;\n    border-radius: 100%;\n    background-color: rgba(0, 0, 0, 0.15);\n    background-clip: padding-box;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    opacity: 1;\n}\n\n.waves-ripple.z-active {\n    opacity: 0;\n    -webkit-transform: scale(2);\n    transform: scale(2);\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\n}",""])}});